<div class="sidebar">
  <div class="sidebar-header">
    <mat-icon class="sidebar-logo">school</mat-icon>
    <h3 class="sidebar-title">Sistema Escolar</h3>
  </div>

  <mat-divider></mat-divider>

  <mat-nav-list class="sidebar-menu">
    <ng-container *ngFor="let item of menuItems">
      <!-- Items sin hijos (normales) -->
      <mat-list-item
        *ngIf="!item.children"
        [class.active]="isActive(item.route!)"
        (click)="navigateTo(item.route!)">
        <mat-icon matListItemIcon>{{ item.icon }}</mat-icon>
        <span matListItemTitle>{{ item.label }}</span>
      </mat-list-item>

      <!-- Items con hijos (dropdown) -->
      <div *ngIf="item.children" class="dropdown-item">
        <mat-list-item (click)="toggleDropdown(item)" class="parent-item">
          <mat-icon matListItemIcon>{{ item.icon }}</mat-icon>
          <span matListItemTitle>{{ item.label }}</span>
          <mat-icon matListItemIcon class="dropdown-icon">
            {{ item.expanded ? 'expand_less' : 'expand_more' }}
          </mat-icon>
        </mat-list-item>

        <!-- Submenu -->
        <div class="submenu" [class.expanded]="item.expanded">
          <mat-list-item
            *ngFor="let child of item.children"
            [class.active]="isActive(child.route!)"
            (click)="navigateTo(child.route!)"
            class="child-item">
            <mat-icon matListItemIcon class="child-icon">{{ child.icon }}</mat-icon>
            <span matListItemTitle>{{ child.label }}</span>
          </mat-list-item>
        </div>
      </div>
    </ng-container>
  </mat-nav-list>
</div>
